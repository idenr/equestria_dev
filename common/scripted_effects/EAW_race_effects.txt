operative_add_nationalities_changeling = {
	add_nationality = CHN
	add_nationality = CCN
	add_nationality = MAN
	add_nationality = NCH
	add_to_array = {
		cultures = 1
	}
}

operative_add_nationalities_olenian = {
	add_nationality = OLE
	add_to_array = {
		cultures = 2
	}
}

operative_add_nationalities_old_olenian = {
	add_nationality = OLV
	add_to_array = {
		cultures = 3
	}
}

operative_add_nationalities_diamond_dog = {
	add_nationality = BRZ
	add_nationality = DMT
	add_to_array = {
		cultures = 4
	}
}

operative_add_nationalities_dragon = {
	add_nationality = DRG
	add_to_array = {
		cultures = 5
	}
}

operative_add_nationalities_bear = {
	add_nationality = PLB
	add_to_array = {
		cultures = 6
	}
}

operative_add_nationalities_buffalo = {
	add_nationality = BUF
	add_to_array = {
		cultures = 7
	}
}

operative_add_nationalities_aquileian = {
	add_nationality = ERI
	add_nationality = EYR
	add_nationality = HEL
	add_nationality = AET
	add_nationality = JER
	add_nationality = JEB
	add_nationality = JFT
	add_nationality = JES
	add_nationality = JRR
	add_nationality = AVI
	add_nationality = POM
	add_nationality = VIN
	add_nationality = FLO
	add_nationality = FEZ
	add_to_array = {
		cultures = 8
	}
}

operative_add_nationalities_equestrian = {
	add_nationality = EQS
	add_nationality = STG
	add_nationality = CRY
	add_nationality = STL
	add_nationality = NLR
	add_nationality = VAN
	add_nationality = SCS
	add_nationality = BAL
	add_nationality = NMS
	add_nationality = CES
	add_nationality = JUN
	add_nationality = ROC
	add_nationality = TEM
	add_nationality = LSP
	add_nationality = ELF
	add_nationality = EQC
	add_nationality = EQP
	add_to_array = {
		cultures = 9
	}
}

operative_add_nationalities_evi_valley = {
	add_nationality = GRW
	add_nationality = BRF
	add_nationality = BAN
	add_nationality = GRY
	add_nationality = LUS
	add_nationality = GRU
	add_to_array = {
		cultures = 10
	}
}

operative_add_nationalities_herzlander = {
	add_nationality = GRF
	add_nationality = GFF
	add_nationality = GRI
	add_nationality = FAT
	add_nationality = FAW
	add_nationality = TRD
	add_nationality = FEA
	add_nationality = PYT
	add_nationality = ROU
	add_nationality = BOI
	add_nationality = LAK
	add_nationality = YAL
	add_nationality = ANG
	add_nationality = STW
	add_nationality = HLQ
	add_nationality = KAT
	add_nationality = LNS
	add_nationality = HAU
	add_nationality = SRS
	add_nationality = LSM
	add_to_array = {
		cultures = 11
	}
}

operative_add_nationalities_minotaur = {
	add_nationality = MIT
	add_to_array = {
		cultures = 12
	}
}

operative_add_nationalities_northerner = {
	add_nationality = HLR
	add_nationality = VED
	add_nationality = MNC
	add_to_array = {
		cultures = 13
	}
}

operative_add_nationalities_penguin = {
	add_nationality = PNG
	add_to_array = {
		cultures = 14
	}
}

operative_add_nationalities_riverlander = {
	add_nationality = FIR
	add_nationality = WAT
	add_nationality = FBK
	add_nationality = NTR
	add_nationality = LCT
	add_nationality = RCT
	add_nationality = NIM
	add_nationality = WIT
	add_nationality = BAK
	add_nationality = DEP
	add_nationality = FRE
	add_nationality = BAR
	add_nationality = LSC
	add_to_array = {
		cultures = 15
	}
}

operative_add_nationalities_southerner = {
	add_nationality = SIC
	add_nationality = CYA
	add_nationality = FRN
	add_nationality = ARA
	add_nationality = WNG
	add_nationality = FAL
	add_nationality = TAL
	add_to_array = {
		cultures = 16
	}
}

operative_add_nationalities_undead = {
	add_nationality = DED
	add_nationality = EWI
	add_to_array = {
		cultures = 17
	}
}

operative_add_nationalities_yak = {
	add_nationality = YAK
	add_nationality = JAK
	add_to_array = {
		cultures = 18
	}
}

operative_add_nationalities_zebra = {
	add_nationality = ZES
	add_to_array = {
		cultures = 19
	}
}

operative_add_nationalities_from_PREV = {
	if = {
		limit = {
			OR = {
				has_trait = pony_race_trait
				has_trait = thestral_race_trait
			}
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_equestrian = yes
						is_country_secondary_culture_equestrian = yes
					}
				}
			}
			operative_add_nationalities_equestrian = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_riverlander = yes
						is_country_secondary_culture_riverlander = yes
					}
				}
			}
			operative_add_nationalities_riverlander = yes
		}
	}
	else_if = {
		limit = {
			has_trait = zebra_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_zebra = yes
						is_country_secondary_culture_zebra = yes
					}
				}
			}
			operative_add_nationalities_zebra = yes
		}
	}
	else_if = {
		limit = {
			has_trait = penguin_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_penguin = yes
						is_country_secondary_culture_penguin = yes
					}
				}
			}
			operative_add_nationalities_penguin = yes
		}
	}
	else_if = {
		limit = {
			has_trait = bear_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_bear = yes
						is_country_secondary_culture_bear = yes
					}
				}
			}
			operative_add_nationalities_bear = yes
		}
	}
	else_if = {
		limit = {
			has_trait = changeling_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_changeling = yes
						is_country_secondary_culture_changeling = yes
					}
				}
			}
			operative_add_nationalities_changeling = yes
		}
	}
	else_if = {
		limit = {
			has_trait = griffon_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_aquileian = yes
						is_country_secondary_culture_aquileian = yes
					}
				}
			}
			operative_add_nationalities_aquileian = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_evi_valley = yes
						is_country_secondary_culture_evi_valley = yes
					}
				}
			}
			operative_add_nationalities_evi_valley = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_herzlander = yes
						is_country_secondary_culture_herzlander = yes
					}
				}
			}
			operative_add_nationalities_herzlander = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_northerner = yes
						is_country_secondary_culture_northerner = yes
					}
				}
			}
			operative_add_nationalities_northerner = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_southerner = yes
						is_country_secondary_culture_southerner = yes
					}
				}
			}
			operative_add_nationalities_southerner = yes
		}
	}
	else_if = {
		limit = {
			has_trait = yak_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_yak = yes
						is_country_secondary_culture_yak = yes
					}
				}
			}
			operative_add_nationalities_yak = yes
		}
	}
	else_if = {
		limit = {
			has_trait = deer_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_olenian = yes
						is_country_secondary_culture_olenian = yes
					}
				}
			}
			operative_add_nationalities_olenian = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_old_olenian = yes
						is_country_secondary_culture_old_olenian = yes
					}
				}
			}
			operative_add_nationalities_old_olenian = yes
		}
	}
	else_if = {
		limit = {
			has_trait = diamond_dog_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_diamond_dog = yes
						is_country_secondary_culture_diamond_dog = yes
					}
				}
			}
			operative_add_nationalities_diamond_dog = yes
		}
	}
	else_if = {
		limit = {
			has_trait = minotaur_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_minotaur = yes
						is_country_secondary_culture_minotaur = yes
					}
				}
			}
			operative_add_nationalities_minotaur = yes
		}
	}
	else_if = {
		limit = {
			has_trait = undead_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_undead = yes
						is_country_secondary_culture_undead = yes
					}
				}
			}
			operative_add_nationalities_undead = yes
		}
	}
	else_if = {
		limit = {
			has_trait = buffalo_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_buffalo = yes
						is_country_secondary_culture_buffalo = yes
					}
				}
			}
			operative_add_nationalities_buffalo = yes
		}
	}
	else_if = {
		limit = {
			has_trait = dragon_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_dragon = yes
						is_country_secondary_culture_dragon = yes
					}
				}
			}
			operative_add_nationalities_dragon = yes
		}
	}
}

operative_add_main_nationalities_from_PREV = {
	if = {
		limit = {
			OR = {
				has_trait = pony_race_trait
				has_trait = thestral_race_trait
			}
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_equestrian = yes

					}
				}
			}
			operative_add_nationalities_equestrian = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_riverlander = yes

					}
				}
			}
			operative_add_nationalities_riverlander = yes
		}
	}
	else_if = {
		limit = {
			has_trait = zebra_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_zebra = yes

					}
				}
			}
			operative_add_nationalities_zebra = yes
		}
	}
	else_if = {
		limit = {
			has_trait = penguin_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_penguin = yes

					}
				}
			}
			operative_add_nationalities_penguin = yes
		}
	}
	else_if = {
		limit = {
			has_trait = bear_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_bear = yes

					}
				}
			}
			operative_add_nationalities_bear = yes
		}
	}
	else_if = {
		limit = {
			has_trait = changeling_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_changeling = yes

					}
				}
			}
			operative_add_nationalities_changeling = yes
		}
	}
	else_if = {
		limit = {
			has_trait = griffon_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_aquileian = yes

					}
				}
			}
			operative_add_nationalities_aquileian = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_evi_valley = yes

					}
				}
			}
			operative_add_nationalities_evi_valley = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_herzlander = yes

					}
				}
			}
			operative_add_nationalities_herzlander = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_northerner = yes

					}
				}
			}
			operative_add_nationalities_northerner = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_southerner = yes

					}
				}
			}
			operative_add_nationalities_southerner = yes
		}
	}
	else_if = {
		limit = {
			has_trait = yak_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_yak = yes

					}
				}
			}
			operative_add_nationalities_yak = yes
		}
	}
	else_if = {
		limit = {
			has_trait = deer_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_olenian = yes

					}
				}
			}
			operative_add_nationalities_olenian = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_old_olenian = yes

					}
				}
			}
			operative_add_nationalities_old_olenian = yes
		}
	}
	else_if = {
		limit = {
			has_trait = diamond_dog_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_diamond_dog = yes

					}
				}
			}
			operative_add_nationalities_diamond_dog = yes
		}
	}
	else_if = {
		limit = {
			has_trait = minotaur_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_minotaur = yes

					}
				}
			}
			operative_add_nationalities_minotaur = yes
		}
	}
	else_if = {
		limit = {
			has_trait = undead_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_undead = yes

					}
				}
			}
			operative_add_nationalities_undead = yes
		}
	}
	else_if = {
		limit = {
			has_trait = buffalo_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_buffalo = yes

					}
				}
			}
			operative_add_nationalities_buffalo = yes
		}
	}
	else_if = {
		limit = {
			has_trait = dragon_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_main_culture_dragon = yes

					}
				}
			}
			operative_add_nationalities_dragon = yes
		}
	}
}

operative_add_secondary_nationalities_from_PREV = {
	if = {
		limit = {
			OR = {
				has_trait = pony_race_trait
				has_trait = thestral_race_trait
			}
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_equestrian = yes

					}
				}
			}
			operative_add_nationalities_equestrian = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_riverlander = yes

					}
				}
			}
			operative_add_nationalities_riverlander = yes
		}
	}
	else_if = {
		limit = {
			has_trait = zebra_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_zebra = yes

					}
				}
			}
			operative_add_nationalities_zebra = yes
		}
	}
	else_if = {
		limit = {
			has_trait = penguin_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_penguin = yes

					}
				}
			}
			operative_add_nationalities_penguin = yes
		}
	}
	else_if = {
		limit = {
			has_trait = bear_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_bear = yes

					}
				}
			}
			operative_add_nationalities_bear = yes
		}
	}
	else_if = {
		limit = {
			has_trait = changeling_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_changeling = yes

					}
				}
			}
			operative_add_nationalities_changeling = yes
		}
	}
	else_if = {
		limit = {
			has_trait = griffon_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_aquileian = yes

					}
				}
			}
			operative_add_nationalities_aquileian = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_evi_valley = yes

					}
				}
			}
			operative_add_nationalities_evi_valley = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_herzlander = yes

					}
				}
			}
			operative_add_nationalities_herzlander = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_northerner = yes

					}
				}
			}
			operative_add_nationalities_northerner = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_southerner = yes

					}
				}
			}
			operative_add_nationalities_southerner = yes
		}
	}
	else_if = {
		limit = {
			has_trait = yak_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_yak = yes

					}
				}
			}
			operative_add_nationalities_yak = yes
		}
	}
	else_if = {
		limit = {
			has_trait = deer_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_olenian = yes

					}
				}
			}
			operative_add_nationalities_olenian = yes
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_old_olenian = yes

					}
				}
			}
			operative_add_nationalities_old_olenian = yes
		}
	}
	else_if = {
		limit = {
			has_trait = diamond_dog_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_diamond_dog = yes

					}
				}
			}
			operative_add_nationalities_diamond_dog = yes
		}
	}
	else_if = {
		limit = {
			has_trait = minotaur_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_minotaur = yes

					}
				}
			}
			operative_add_nationalities_minotaur = yes
		}
	}
	else_if = {
		limit = {
			has_trait = undead_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_undead = yes

					}
				}
			}
			operative_add_nationalities_undead = yes
		}
	}
	else_if = {
		limit = {
			has_trait = buffalo_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_buffalo = yes

					}
				}
			}
			operative_add_nationalities_buffalo = yes
		}
	}
	else_if = {
		limit = {
			has_trait = dragon_race_trait
		}
		if = {
			limit = {
				PREV = {
					OR = {
						is_country_secondary_culture_dragon = yes

					}
				}
			}
			operative_add_nationalities_dragon = yes
		}
	}
}

set_operative_to_herzlander = {
	if = {
		limit = {
			is_female = yes
		}
		set_temp_variable = {
			name_idx = 47
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 30
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetHerzlanderFemaleName]"
			SURNAME = "[?surname_idx.GetHerzlanderSurname]"
		}
		set_temp_variable = {
			name_idx = 3
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_portrait = "[PORTRAIT]"
			}
			PORTRAIT = "[?name_idx.Get_griffon_operative_female_portrait]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 56
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 30
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetHerzlanderMaleName]"
			SURNAME = "[?surname_idx.GetHerzlanderSurname]"
		}
		set_temp_variable = {
			name_idx = 4
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_portrait = "[PORTRAIT]"
			}
			PORTRAIT = "[?name_idx.Get_griffon_operative_male_portrait]"
		}
	}
	add_unit_leader_trait = griffon_race_trait
	operative_add_nationalities_herzlander = yes
}

set_operative_to_pony = {
	if = {
		limit = {
			is_female = yes
		}
		set_temp_variable = {
			name_idx = 11
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 20
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetPonyFemaleName]"
			SURNAME = "[?surname_idx.GetPonySurname]"
		}
		set_temp_variable = {
			name_idx = 3
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_portrait = "[PORTRAIT]"
			}
			PORTRAIT = "[?name_idx.Get_pony_operative_female_portrait]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 16
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 20
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetPonyMaleName]"
			SURNAME = "[?surname_idx.GetPonySurname]"
		}
		set_temp_variable = {
			name_idx = 4
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_portrait = "[PORTRAIT]"
			}
			PORTRAIT = "[?name_idx.Get_pony_operative_male_portrait]"
		}
	}
	add_unit_leader_trait = pony_race_trait
}

operative_add_secondary_nationalities = {
	if = {
		limit = {
			OR = {
				has_nationality = HLQ
				has_nationality = LSC
				has_nationality = LSM
				has_nationality = LNS
			}
		}
		add_nationality = HLQ
		add_nationality = LSC
		add_nationality = LSM
		add_nationality = LNS
	}
	if = {
		limit = {
			OR = {
				has_nationality = GRF
				has_nationality = GFF
			}
		}
		add_nationality = GRF
		add_nationality = GFF
	}
	if = {
		limit = {
			OR = {
				has_nationality = TRD
				has_nationality = FEZ
			}
		}
		add_nationality = TRD
		add_nationality = FEZ
	}
	if = {
		limit = {
			OR = {
				has_nationality = EQS
				has_nationality = ELF
				has_nationality = NLR
			}
		}
		add_nationality = EQS
		add_nationality = ELF
		add_nationality = NLR
	}
	if = {
		limit = {
			OR = {
				has_nationality = CHN
				has_nationality = CCN
			}
		}
		add_nationality = CHN
		add_nationality = CCN
		add_nationality = MAN
	}
	if = {
		limit = {
			has_nationality = MAN
			has_trait = changeling_race_trait
		}
		add_nationality = CHN
		add_nationality = CCN
	}
	if = {
		limit = {
			OR = {
				has_nationality = GRW
				has_nationality = BRF
			}
		}
		add_nationality = GRW
		add_nationality = BRF
	}
}

set_operative_to_equestrian = {
	set_operative_to_pony = yes
	operative_add_nationalities_equestrian = yes
}

set_operative_to_riverlander = {
	set_operative_to_pony = yes
	operative_add_nationalities_riverlander = yes
}

set_operative_to_diamond_dog = {
	if = {
		limit = {
			is_female = yes
		}
		set_temp_variable = {
			name_idx = 8
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 24
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetDiamondDogFemaleName]"
			SURNAME = "[?surname_idx.GetDiamondDogSurname]"
		}
		set_leader_portrait = "GFX_portrait_dog_generic_8"
	}
	else = {
		set_temp_variable = {
			name_idx = 39
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 24
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetDiamondDogMaleName]"
			SURNAME = "[?surname_idx.GetDiamondDogSurname]"
		}
		set_temp_variable = {
			name_idx = 11
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_portrait = "[PORTRAIT]"
			}
			PORTRAIT = "[?name_idx.Get_DMT_operative_male_portrait]"
		}
	}
	add_unit_leader_trait = diamond_dog_race_trait
	operative_add_nationalities_diamond_dog = yes
}

set_operative_to_minotaur = {
	if = {
		limit = {
			is_female = yes
		}
		set_temp_variable = {
			name_idx = 68
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 39
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetMinotaurFemaleName]"
			SURNAME = "[?surname_idx.GetMinotaurSurname]"
		}
		set_temp_variable = {
			name_idx = 2
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_portrait = "[PORTRAIT]"
			}
			PORTRAIT = "[?name_idx.Get_MIT_navy_male_portrait]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 50
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 49
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetMinotaurMaleName]"
			SURNAME = "[?surname_idx.GetMinotaurSurname]"
		}
		set_temp_variable = {
			name_idx = 2
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_portrait = "[PORTRAIT]"
			}
			PORTRAIT = "[?name_idx.Get_MIT_navy_male_portrait]"
		}
	}
	add_unit_leader_trait = minotaur_race_trait
	operative_add_nationalities_minotaur = yes
}

operative_handle_secondary_cultures_races = {
	if = {
		limit = {
			has_unit_leader_race_trait = no
		}
		if = {
			limit = { FROM = { 
				original_tag = LSC 
			} }
			random_list = {
				75 = {
				}
				25 = {
					modifier = {
						factor = 0
						FROM = {
							has_government = fascism
						}
					}
					set_operative_to_herzlander = yes
				}
			}
		}
		else_if = {
			limit = { FROM = { 
				original_tag = BRZ 
				tag = event_target:griffonian_empire
			} }
			random_list = {
				50 = {}
				50 = {
					set_operative_to_herzlander = yes
				}
			}
		}
		else_if = {
			limit = { FROM = { 
				tag = GRI
				NOT = { has_global_flag = GRI_grover_vi_dead }
				any_owned_state = {
					is_core_of = PREV
					is_in_array = {
						state_original_cores = BRZ
					}
				}
			} }
			random_list = {
				90 = {}
				10 = {
					set_operative_to_diamond_dog = yes
				}
			}
		}
		else_if = {
			limit = { FROM = { 
				original_tag = MAN
				has_completed_focus = MAN_third_eye_2
			} }
			random_list = {
				77 = {}
				33 = {
					set_operative_to_equestrian = yes
				}
			}
		}
		else_if = {
			limit = { FROM = { 
				original_tag = HAU
			} }
			random_list = {
				85 = {}
				15 = {
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								NOT ={ has_government = fascism }
							}
						}
					}
					set_operative_to_equestrian = yes
					add_nationality = JER
				}
			}
		}
		else_if = {
			limit = { FROM = { 
				original_tag = LSM
			} }
			random_list = {
				80 = {
				}
				20 = {
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								OR = {
									has_government = neutrality
									has_government = democratic
								}
								has_completed_focus = LNS_service_gurantees_citizenship
							}
						}
					}
					set_operative_to_riverlander = yes
				}
			}
		}
		else_if = {
			limit = { FROM = { 
				original_tag = HLR
			} }
			random_list = {
				60 = {}
				40 = {
					set_operative_to_riverlander = yes
				}
			}
		}
		else_if = {
			limit = { FROM = { 
				original_tag = HLQ
			} }
			random_list = {
				80 = {
				}
				20 = {
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								OR = {
									has_government = neutrality
									has_government = democratic
								}
								has_completed_focus = HLQ_pony_knights
							}
						}
					}
					set_operative_to_riverlander = yes
				}
			}
		}
		else_if = {
			limit = { FROM = { 
				original_tag = JER
			} }
			random_list = {
				85 = {}
				15 = {
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								has_government = neutrality
							}
						}
					}
					set_operative_to_equestrian = yes
				}
			}
		}
		else_if = {
			limit = { FROM = { 
				original_tag = CYA
			} }
			random_list = {
				85 = {}
				15 = {
					modifier = {
						factor = 0
						NOT = {
							FROM = {
								has_government = communism
							}
						}
					}
					set_operative_to_minotaur = yes
				}
			}
		}
	}
	if = {
		limit = { 
			OR = {
				has_trait = griffon_race_trait
				FROM = {
					OR = {
						is_griffon_empire_country = yes
						original_tag = FAT
						original_tag = FAW
						original_tag = GRW
						tag = event_target:griffonian_empire
						AND = {
							original_tag = GRU
							NOT = { has_government = communism }
						}
						original_tag = GRF
						original_tag = GFF
						original_tag = TRD
						original_tag = FEZ
					}
				}
			}
		}
		add_unit_leader_trait = griffon_race_trait
		if = {
			limit = {
				owner = {
					OR = {
						is_griffon_empire_country = yes
						original_tag = FAT
						original_tag = FAW
						original_tag = GRW
						tag = event_target:griffonian_empire
					}
				}
			}
			random_list = {
				20 = {
					remove_unit_leader_trait = griffon_race_trait
					operative_add_starting_nationalities_and_race = yes
				}
				80 = {
					FROM = {
						get_random_griffon_core_name = yes
					}
				}
			}
		}
		else_if = {
			limit = {
				FROM = {
					original_tag = GRU
					NOT = { has_government = communism }
				}
			}
			random_list = {
				20 = {
					operative_add_nationalities_evi_valley = yes
				}
				10 = {
					modifier = {
						factor = 2
						FROM = {
							has_completed_focus = GRU_the_company_takes_over
						}
					}
					give_SIC_name = yes
					operative_add_nationalities_southerner = yes
				}
				80 = {
					give_herzlander_name = yes
					operative_add_nationalities_herzlander = yes
				}
			}
		}
		else_if = {
			limit = {
				FROM = {
					OR = {
						original_tag = GRF
						original_tag = GFF
					}
				}
			}
			random_list = {
				50 = {
					operative_add_nationalities_herzlander = yes
				}
				15 = {
					give_FEA_name = yes
					operative_add_nationalities_herzlander = yes
				}
				25 = {
					give_JER_name = yes
					operative_add_nationalities_aquileian = yes
				}
				15 = {
					give_TRD_name = yes
					operative_add_nationalities_herzlander = yes
				}
				5 = {
					give_WNG_name = yes
					operative_add_nationalities_southerner = yes
				}
			}
		}
		else_if = {
			limit = {
				FROM = {
					OR = {
						original_tag = TRD
						original_tag = FEZ
					}
				}
			}
			random_list = {
				50 = {
					modifier = {
						factor = 2
						FROM = { original_tag = FEZ }
					}
					if = {
						limit = { FROM = { original_tag = TRD } }
						operative_add_nationalities_herzlander = yes
					}
					else = {
						operative_add_nationalities_aquileian = yes
					}
				}
				10 = {
					give_FEA_name = yes
					operative_add_nationalities_herzlander = yes
				}
				15 = {
					give_JER_name = yes
					operative_add_nationalities_aquileian = yes
				}
				15 = {
					give_herzlander_name = yes
					operative_add_nationalities_herzlander = yes
				}
				10 = {
					modifier = {
						factor = 2.5
						FROM = { original_tag = FEZ }
					}
					give_WNG_name = yes
					operative_add_nationalities_southerner = yes
				}
			}
		}
	}
}

operative_add_starting_nationalities_and_race = {
	if = {
		limit = { has_unit_leader_race_trait = no }
		if = {
			limit = {
				has_nationality = NCR
			}
			add_unit_leader_trait = human_race_trait
		}
		else_if = {
			limit = {
				is_operative_main_culture_equestrian = yes
			}
			add_unit_leader_trait = pony_race_trait
			operative_add_nationalities_equestrian = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_changeling = yes
			}
			add_unit_leader_trait = changeling_race_trait
			operative_add_nationalities_changeling = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_olenian = yes
			}
			add_unit_leader_trait = deer_race_trait
			operative_add_nationalities_olenian = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_old_olenian = yes
			}
			add_unit_leader_trait = deer_race_trait
			operative_add_nationalities_old_olenian = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_diamond_dog = yes
			}
			add_unit_leader_trait = diamond_dog_race_trait
			operative_add_nationalities_diamond_dog = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_dragon = yes
			}
			add_unit_leader_trait = dragon_race_trait
			operative_add_nationalities_dragon = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_bear = yes
			}
			add_unit_leader_trait = bear_race_trait
			operative_add_nationalities_bear = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_buffalo = yes
			}
			add_unit_leader_trait = buffalo_race_trait
			operative_add_nationalities_buffalo = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_aquileian = yes
			}
			add_unit_leader_trait = griffon_race_trait
			operative_add_nationalities_aquileian = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_evi_valley = yes
			}
			add_unit_leader_trait = griffon_race_trait
			operative_add_nationalities_evi_valley = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_herzlander = yes
			}
			add_unit_leader_trait = griffon_race_trait
			operative_add_nationalities_herzlander = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_minotaur = yes
			}
			add_unit_leader_trait = minotaur_race_trait
			operative_add_nationalities_minotaur = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_northerner = yes
			}
			add_unit_leader_trait = griffon_race_trait
			operative_add_nationalities_northerner = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_penguin = yes
			}
			add_unit_leader_trait = penguin_race_trait
			operative_add_nationalities_penguin = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_riverlander = yes
			}
			add_unit_leader_trait = pony_race_trait
			operative_add_nationalities_riverlander = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_southerner = yes
			}
			add_unit_leader_trait = griffon_race_trait
			operative_add_nationalities_southerner = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_undead = yes
			}
			add_unit_leader_trait = undead_race_trait
			operative_add_nationalities_undead = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_yak = yes
			}
			add_unit_leader_trait = yak_race_trait
			operative_add_nationalities_yak = yes
		}
		else_if = {
			limit = {
				is_operative_main_culture_zebra = yes
			}
			add_unit_leader_trait = zebra_race_trait
			operative_add_nationalities_zebra = yes
		}
	}
}

# expects name_idx temp var
get_random_name_idx = {
	subtract_from_temp_variable = {
		name_idx = 1
	}
	multiply_temp_variable = {
		name_idx = random
	}
	round_temp_variable = name_idx
	add_to_temp_variable = {
		name_idx = 1
	}
}

# expects surname_idx temp var
get_random_surname_idx = {
	subtract_from_temp_variable = {
		surname_idx = 1
	}
	multiply_temp_variable = {
		surname_idx = random
	}
	round_temp_variable = surname_idx
	add_to_temp_variable = {
		surname_idx = 1
	}
}

set_unit_leader_to_herzlander = {
	if = {
		limit = {
			is_female = yes
		}
		set_temp_variable = {
			name_idx = 47
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 30
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetHerzlanderFemaleName]"
			SURNAME = "[?surname_idx.GetHerzlanderSurname]"
		}
		if = {
			limit = {
				is_navy_leader = yes
			}
			set_temp_variable = {
				name_idx = 2
			}
			get_random_name_idx = yes
			meta_effect = {
				text = {
					set_leader_portrait = "[PORTRAIT]"
				}
				PORTRAIT = "[?name_idx.Get_griffon_navy_female_portrait]"
			}
		}
		else = {
			set_temp_variable = {
				name_idx = 2
			}
			get_random_name_idx = yes
			meta_effect = {
				text = {
					set_leader_portrait = "[PORTRAIT]"
				}
				PORTRAIT = "[?name_idx.Get_griffon_army_female_portrait]"
			}
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 56
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 30
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetHerzlanderMaleName]"
			SURNAME = "[?surname_idx.GetHerzlanderSurname]"
		}
		if = {
			limit = {
				is_navy_leader = yes
			}
			set_temp_variable = {
				name_idx = 6
			}
			get_random_name_idx = yes
			meta_effect = {
				text = {
					set_leader_portrait = "[PORTRAIT]"
				}
				PORTRAIT = "[?name_idx.Get_griffon_navy_male_portrait]"
			}
		}
		else = {
			set_temp_variable = {
				name_idx = 12
			}
			get_random_name_idx = yes
			meta_effect = {
				text = {
					set_leader_portrait = "[PORTRAIT]"
				}
				PORTRAIT = "[?name_idx.Get_griffon_army_male_portrait]"
			}
		}
	}
	add_unit_leader_trait = griffon_race_trait
}

set_unit_leader_to_generic_pony = {
	if = {
		limit = {
			is_female = yes
		}
		set_temp_variable = {
			name_idx = 11
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 20
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetPonyFemaleName]"
			SURNAME = "[?surname_idx.GetPonySurname]"
		}
		if = {
			limit = {
				is_navy_leader = yes
			}
			set_temp_variable = {
				name_idx = 6
			}
			get_random_name_idx = yes
			meta_effect = {
				text = {
					set_leader_portrait = "[PORTRAIT]"
				}
				PORTRAIT = "[?name_idx.Get_pony_navy_female_portrait]"
			}
		}
		else = {
			set_temp_variable = {
				name_idx = 9
			}
			get_random_name_idx = yes
			meta_effect = {
				text = {
					set_leader_portrait = "[PORTRAIT]"
				}
				PORTRAIT = "[?name_idx.Get_pony_army_female_portrait]"
			}
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 16
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 20
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetPonyMaleName]"
			SURNAME = "[?surname_idx.GetPonySurname]"
		}
		if = {
			limit = {
				is_navy_leader = yes
			}
			set_temp_variable = {
				name_idx = 2
			}
			get_random_name_idx = yes
			meta_effect = {
				text = {
					set_leader_portrait = "[PORTRAIT]"
				}
				PORTRAIT = "[?name_idx.Get_pony_navy_male_portrait]"
			}
		}
		else = {
			set_temp_variable = {
				name_idx = 4
			}
			get_random_name_idx = yes
			meta_effect = {
				text = {
					set_leader_portrait = "[PORTRAIT]"
				}
				PORTRAIT = "[?name_idx.Get_pony_army_male_portrait]"
			}
		}
	}
	add_unit_leader_trait = pony_race_trait
}

set_unit_leader_to_diamond_dog = {
	if = {
		limit = {
			is_female = yes
		}
		set_temp_variable = {
			name_idx = 8
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 24
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetDiamondDogFemaleName]"
			SURNAME = "[?surname_idx.GetDiamondDogSurname]"
		}
		set_leader_portrait = "GFX_portrait_dog_generic_8"
	}
	else = {
		set_temp_variable = {
			name_idx = 39
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 24
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetDiamondDogMaleName]"
			SURNAME = "[?surname_idx.GetDiamondDogSurname]"
		}
		if = {
			limit = {
				is_navy_leader = yes
			}
			set_temp_variable = {
				name_idx = 6
			}
			get_random_name_idx = yes
			meta_effect = {
				text = {
					set_leader_portrait = "[PORTRAIT]"
				}
				PORTRAIT = "[?name_idx.Get_BRZ_army_male_portrait]"
			}
		}
		else = {
			set_temp_variable = {
				name_idx = 6
			}
			get_random_name_idx = yes
			meta_effect = {
				text = {
					set_leader_portrait = "[PORTRAIT]"
				}
				PORTRAIT = "[?name_idx.Get_BRZ_army_male_portrait]"
			}
		}
	}
	add_unit_leader_trait = diamond_dog_race_trait
}

set_unit_leader_to_minotaur = {
	if = {
		limit = {
			is_female = yes
		}
		set_temp_variable = {
			name_idx = 68
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 39
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetMinotaurFemaleName]"
			SURNAME = "[?surname_idx.GetMinotaurSurname]"
		}
		if = {
			limit = {
				is_navy_leader = yes
			}
			set_temp_variable = {
				name_idx = 2
			}
			get_random_name_idx = yes
			meta_effect = {
				text = {
					set_leader_portrait = "[PORTRAIT]"
				}
				PORTRAIT = "[?name_idx.Get_MIT_navy_male_portrait]"
			}
		}
		else = {
			set_temp_variable = {
				name_idx = 5
			}
			get_random_name_idx = yes
			meta_effect = {
				text = {
					set_leader_portrait = "[PORTRAIT]"
				}
				PORTRAIT = "[?name_idx.Get_MIT_army_male_portrait]"
			}
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 50
		}
		get_random_name_idx = yes
		set_temp_variable = {
			surname_idx = 49
		}
		get_random_surname_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetMinotaurMaleName]"
			SURNAME = "[?surname_idx.GetMinotaurSurname]"
		}
		if = {
			limit = {
				is_navy_leader = yes
			}
			set_temp_variable = {
				name_idx = 2
			}
			get_random_name_idx = yes
			meta_effect = {
				text = {
					set_leader_portrait = "[PORTRAIT]"
				}
				PORTRAIT = "[?name_idx.Get_MIT_navy_male_portrait]"
			}
		}
		else = {
			set_temp_variable = {
				name_idx = 5
			}
			get_random_name_idx = yes
			meta_effect = {
				text = {
					set_leader_portrait = "[PORTRAIT]"
				}
				PORTRAIT = "[?name_idx.Get_MIT_army_male_portrait]"
			}
		}
	}
	add_unit_leader_trait = minotaur_race_trait
}

give_FEA_name = {
	set_temp_variable = {
		surname_idx = 30
	}
	get_random_surname_idx = yes
	if = {
		limit = { is_female = yes }
		set_temp_variable = {
			name_idx = 11
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetFEAFemaleName]"
			SURNAME = "[?surname_idx.GetHerzlanderSurname]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 37
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetFEAMaleName]"
			SURNAME = "[?surname_idx.GetHerzlanderSurname]"
		}
	}
}

give_DAN_name = {
	set_temp_variable = {
		surname_idx = 30
	}
	get_random_surname_idx = yes
	if = {
		limit = { is_female = yes }
		set_temp_variable = {
			name_idx = 13
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetDANFemaleName]"
			SURNAME = "[?surname_idx.GetHerzlanderSurname]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 41
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetDANMaleName]"
			SURNAME = "[?surname_idx.GetHerzlanderSurname]"
		}
	}
}

give_TRD_name = {
	set_temp_variable = {
		surname_idx = 129
	}
	get_random_surname_idx = yes
	if = {
		limit = { is_female = yes }
		set_temp_variable = {
			name_idx = 22
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetTRDFemaleName]"
			SURNAME = "[?surname_idx.GetTRDSurname]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 73
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetTRDMaleName]"
			SURNAME = "[?surname_idx.GetTRDSurname]"
		}
	}
}

give_herzlander_name = {
	set_temp_variable = {
		surname_idx = 30
	}
	get_random_surname_idx = yes
	if = {
		limit = { is_female = yes }
		set_temp_variable = {
			name_idx = 47
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetHerzlanderFemaleName]"
			SURNAME = "[?surname_idx.GetHerzlanderSurname]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 56
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetHerzlanderMaleName]"
			SURNAME = "[?surname_idx.GetHerzlanderSurname]"
		}
	}
}

give_ERI_name = {
	set_temp_variable = {
		surname_idx = 29
	}
	get_random_surname_idx = yes
	if = {
		limit = { is_female = yes }
		set_temp_variable = {
			name_idx = 7
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetERIFemaleName]"
			SURNAME = "[?surname_idx.GetERISurname]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 26
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetERIMaleName]"
			SURNAME = "[?surname_idx.GetERISurname]"
		}
	}
}

give_JER_name = {
	set_temp_variable = {
		surname_idx = 48
	}
	get_random_surname_idx = yes
	if = {
		limit = { is_female = yes }
		set_temp_variable = {
			name_idx = 11
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetJERFemaleName]"
			SURNAME = "[?surname_idx.GetJERSurname]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 50
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetJERMaleName]"
			SURNAME = "[?surname_idx.GetJERSurname]"
		}
	}
}

give_VED_name = {
	set_temp_variable = {
		surname_idx = 18
	}
	get_random_surname_idx = yes
	if = {
		limit = { is_female = yes }
		set_temp_variable = {
			name_idx = 7
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetVEDFemaleName]"
			SURNAME = "[?surname_idx.GetVEDSurname]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 10
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetVEDMaleName]"
			SURNAME = "[?surname_idx.GetVEDSurname]"
		}
	}
}

give_LAK_name = {
	set_temp_variable = {
		surname_idx = 12
	}
	get_random_surname_idx = yes
	if = {
		limit = { is_female = yes }
		set_temp_variable = {
			name_idx = 10
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetLAKFemaleName]"
			SURNAME = "[?surname_idx.GetLAKSurname]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 18
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetLAKMaleName]"
			SURNAME = "[?surname_idx.GetLAKSurname]"
		}
	}
}

give_GRW_name = {
	set_temp_variable = {
		surname_idx = 13
	}
	get_random_surname_idx = yes
	if = {
		limit = { is_female = yes }
		set_temp_variable = {
			name_idx = 9
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetGRWFemaleName]"
			SURNAME = "[?surname_idx.GetGRWSurname]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 19
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetGRWMaleName]"
			SURNAME = "[?surname_idx.GetGRWSurname]"
		}
	}
}

give_LUS_name = {
	set_temp_variable = {
		surname_idx = 13
	}
	get_random_surname_idx = yes
	if = {
		limit = { is_female = yes }
		set_temp_variable = {
			name_idx = 15
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetLUSFemaleName]"
			SURNAME = "[?surname_idx.GetLUSSurname]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 15
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetLUSMaleName]"
			SURNAME = "[?surname_idx.GetLUSSurname]"
		}
	}
}

give_WNG_name = {
	set_temp_variable = {
		surname_idx = 43
	}
	get_random_surname_idx = yes
	if = {
		limit = { is_female = yes }
		set_temp_variable = {
			name_idx = 12
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetSouthernFemaleName]"
			SURNAME = "[?surname_idx.GetSouthernSurname]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 51
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetSouthernMaleName]"
			SURNAME = "[?surname_idx.GetSouthernSurname]"
		}
	}
}

give_SIC_name = {
	set_temp_variable = {
		surname_idx = 8
	}
	get_random_surname_idx = yes
	if = {
		limit = { is_female = yes }
		set_temp_variable = {
			name_idx = 44
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetSICFemaleName]"
			SURNAME = "[?surname_idx.GetSICSurname]"
		}
	}
	else = {
		set_temp_variable = {
			name_idx = 74
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetSICMaleName]"
			SURNAME = "[?surname_idx.GetSICSurname]"
		}
	}
}

give_GRY_name = {
	if = {
		limit = { is_female = yes }
		set_temp_variable = {
			surname_idx = 41
		}
		get_random_surname_idx = yes
		set_temp_variable = {
			name_idx = 13
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetGRYFemaleName]"
			SURNAME = "[?surname_idx.GetGRYFemaleSurname]"
		}
	}
	else = {
		set_temp_variable = {
			surname_idx = 41
		}
		get_random_surname_idx = yes
		set_temp_variable = {
			name_idx = 36
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetGRYMaleName]"
			SURNAME = "[?surname_idx.GetGRYMaleSurname]"
		}
	}
}

give_GRU_name = {
	if = {
		limit = { is_female = yes }
		set_temp_variable = {
			surname_idx = 7
		}
		get_random_surname_idx = yes
		set_temp_variable = {
			name_idx = 8
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetGRUFemaleName]"
			SURNAME = "[?surname_idx.GetGRUFemaleSurname]"
		}
	}
	else = {
		set_temp_variable = {
			surname_idx = 7
		}
		get_random_surname_idx = yes
		set_temp_variable = {
			name_idx = 9
		}
		get_random_name_idx = yes
		meta_effect = {
			text = {
				set_leader_name = "[NAME] [SURNAME]"
			}
			NAME = "[?name_idx.GetGRUMaleName]"
			SURNAME = "[?surname_idx.GetGRUMaleSurname]"
		}
	}
}

get_random_griffon_core_name = {
	set_temp_variable = { total_pop = max_manpower_k }
	set_temp_variable = { original_core_pop = 0 }
	set_temp_variable = { GRI_core_pop = 0 }
	set_temp_variable = { FEA_core_pop = 0 }
	set_temp_variable = { LUS_core_pop = 0 }
	set_temp_variable = { TRD_core_pop = 0 }
	set_temp_variable = { FAT_core_pop = 0 }
	set_temp_variable = { JER_core_pop = 0 }
	set_temp_variable = { LAK_core_pop = 0 }
	set_temp_variable = { ERI_core_pop = 0 }
	set_temp_variable = { VED_core_pop = 0 }
	set_temp_variable = { WNG_core_pop = 0 }
	set_temp_variable = { SIC_core_pop = 0 }
	set_temp_variable = { GRU_core_pop = 0 }
	set_temp_variable = { GRY_core_pop = 0 }
	set_temp_variable = { GRW_core_pop = 0 }
	every_owned_state = {
		limit = {
			is_core_of = PREV
		}
		if = {
			limit = {
				is_in_array = {
					state_original_cores = PREV
				}
			}
			add_to_temp_variable = { PREV.original_core_pop = state_population_k }
		}
		if = {
			limit = {
				is_in_array = {
					state_original_cores = FEA
				}
			}
			add_to_temp_variable = { PREV.FEA_core_pop = state_population_k }
		}
		if = {
			limit = {
				is_in_array = {
					state_original_cores = LUS
				}
			}
			add_to_temp_variable = { PREV.LUS_core_pop = state_population_k }
		}
		if = {
			limit = {
				OR = {
					is_in_array = {
						state_original_cores = TRD
					}
					is_in_array = {
						state_original_cores = FEZ
					}
					is_in_array = {
						state_original_cores = BAN
					}
					is_in_array = {
						state_original_cores = AET
					}
				}
			}
			add_to_temp_variable = { PREV.TRD_core_pop = state_population_k }
		}
		if = {
			limit = {
				is_in_array = {
					state_original_cores = FAT
				}
			}
			add_to_temp_variable = { PREV.FAT_core_pop = state_population_k }
		}
		if = {
			limit = {
				OR = {
					is_in_array = {
						state_original_cores = HEL
					}
					is_in_array = {
						state_original_cores = GRI
					}
					is_in_array = {
						state_original_cores = KAT
					}
					is_in_array = {
						state_original_cores = ANG
					}
					is_in_array = {
						state_original_cores = YAL
					}
					is_in_array = {
						state_original_cores = ROU
					}
					is_in_array = {
						state_original_cores = STW
					}
					is_in_array = {
						state_original_cores = PYT
					}
					is_in_array = {
						state_original_cores = MNC
					}
					is_in_array = {
						state_original_cores = HLQ
					}
					is_in_array = {
						state_original_cores = LNS
					}
					is_in_array = {
						state_original_cores = LSM
					}
					is_in_array = {
						state_original_cores = BOI
					}
				}
			}
			add_to_temp_variable = { PREV.GRI_core_pop = state_population_k }
		}
		if = {
			limit = {
				OR = {
					is_in_array = {
						state_original_cores = JER
					}
					is_in_array = {
						state_original_cores = JFT
					}
					is_in_array = {
						state_original_cores = VIN
					}
					is_in_array = {
						state_original_cores = JRR
					}
					is_in_array = {
						state_original_cores = JES
					}
					is_in_array = {
						state_original_cores = JEB
					}
					is_in_array = {
						state_original_cores = POM
					}
					is_in_array = {
						state_original_cores = FLO
					}
				}
			}
			add_to_temp_variable = { PREV.JER_core_pop = state_population_k }
		}
		if = {
			limit = {
				is_in_array = {
					state_original_cores = LAK
				}
			}
			add_to_temp_variable = { PREV.LAK_core_pop = state_population_k }
		}
		if = {
			limit = {
				OR = {
					is_in_array = {
						state_original_cores = ERI
					}
					is_in_array = {
						state_original_cores = EYR
					}
					is_in_array = {
						state_original_cores = AVI
					}
				}
			}
			add_to_temp_variable = { PREV.ERI_core_pop = state_population_k }
		}
		if = {
			limit = {
				is_in_array = {
					state_original_cores = VED
				}
			}
			add_to_temp_variable = { PREV.VED_core_pop = state_population_k }
		}
		if = {
			limit = {
				OR = {
					is_in_array = {
						state_original_cores = WNG
					}
					is_in_array = {
						state_original_cores = FAL
					}
					is_in_array = {
						state_original_cores = TAL
					}
					is_in_array = {
						state_original_cores = ARA
					}
					is_in_array = {
						state_original_cores = FRN
					}
				}
			}
			add_to_temp_variable = { PREV.WNG_core_pop = state_population_k }
		}
		if = {
			limit = {
				is_in_array = {
					state_original_cores = SIC
				}
			}
			add_to_temp_variable = { PREV.SIC_core_pop = state_population_k }
		}
		if = {
			limit = {
				is_in_array = {
					state_original_cores = GRU
				}
			}
			add_to_temp_variable = { PREV.GRU_core_pop = state_population_k }
		}
		if = {
			limit = {
				is_in_array = {
					state_original_cores = GRY
				}
			}
			add_to_temp_variable = { PREV.GRU_core_pop = state_population_k }
		}
		if = {
			limit = {
				OR = {
					is_in_array = {
						state_original_cores = GRW
					}
					is_in_array = {
						state_original_cores = BRF
					}
				}
			}
			add_to_temp_variable = { PREV.GRW_core_pop = state_population_k }
		}
	}
	divide_temp_variable = { original_core_pop = total_pop }
	divide_temp_variable = { FEA_core_pop = total_pop }
	divide_temp_variable = { LUS_core_pop = total_pop }
	divide_temp_variable = { TRD_core_pop = total_pop }
	divide_temp_variable = { FAT_core_pop = total_pop }
	divide_temp_variable = { JER_core_pop = total_pop }
	divide_temp_variable = { LAK_core_pop = total_pop }
	divide_temp_variable = { ERI_core_pop = total_pop }
	divide_temp_variable = { VED_core_pop = total_pop }
	divide_temp_variable = { WNG_core_pop = total_pop }
	divide_temp_variable = { SIC_core_pop = total_pop }
	divide_temp_variable = { GRU_core_pop = total_pop }
	divide_temp_variable = { GRY_core_pop = total_pop }
	divide_temp_variable = { GRW_core_pop = total_pop }
	divide_temp_variable = { GRI_core_pop = total_pop }
	random_list = {
		100 = {
			modifier = {
				factor = var:original_core_pop
			}
			ROOT = {
				if = {
					limit = { is_operative = yes }
					remove_unit_leader_trait = griffon_race_trait
					operative_add_starting_nationalities_and_race = yes
				}
			}
		}
		100 = {
			modifier = {
				factor = var:FEA_core_pop
			}
			ROOT = {
				give_FEA_name = yes
				if = {
					limit = { is_operative = yes }
					operative_add_nationalities_herzlander = yes
				}
			}
		}
		100 = {
			modifier = {
				factor = var:FAT_core_pop
			}
			modifier = {
				factor = 0
				OR = {
					original_tag = FAT
					original_tag = FAW
				}
				NOT = {
					has_completed_focus = FAT_require_government_bilingualism
					has_focus_tree = fatass_rosewing_empire_focus
				}
			}
			ROOT = {
				give_DAN_name = yes
				if = {
					limit = { is_operative = yes }
					operative_add_nationalities_northerner = yes
				}
			}
		}
		100 = {
			modifier = {
				factor = var:TRD_core_pop
			}
			ROOT = {
				give_TRD_name = yes
				if = {
					limit = { is_operative = yes }
					operative_add_nationalities_herzlander = yes
				}
			}
		}
		100 = {
			modifier = {
				factor = var:LUS_core_pop
			}
			ROOT = {
				give_LUS_name = yes
				if = {
					limit = { is_operative = yes }
					operative_add_nationalities_evi_valley = yes
				}
			}
		}
		100 = {
			modifier = {
				factor = var:JER_core_pop
			}
			ROOT = {
				give_JER_name = yes
				if = {
					limit = { is_operative = yes }
					operative_add_nationalities_aquileian = yes
				}
			}
		}
		100 = {
			modifier = {
				factor = var:LAK_core_pop
			}
			ROOT = {
				give_LAK_name = yes
				if = {
					limit = { is_operative = yes }
					operative_add_nationalities_herzlander = yes
				}
			}
		}
		100 = {
			modifier = {
				factor = var:ERI_core_pop
			}
			ROOT = {
				give_ERI_name = yes
				if = {
					limit = { is_operative = yes }
					operative_add_nationalities_aquileian = yes
				}
			}
		}
		100 = {
			modifier = {
				factor = var:WNG_core_pop
			}
			ROOT = {
				give_WNG_name = yes
				if = {
					limit = { is_operative = yes }
					operative_add_nationalities_southerner = yes
				}
			}
		}
		100 = {
			modifier = {
				factor = var:SIC_core_pop
			}
			ROOT = {
				give_SIC_name = yes
				if = {
					limit = { is_operative = yes }
					operative_add_nationalities_southerner = yes
				}
			}
		}
		100 = {
			modifier = {
				factor = var:GRU_core_pop
			}
			ROOT = {
				give_GRU_name = yes
				if = {
					limit = { is_operative = yes }
					operative_add_nationalities_evi_valley = yes
				}
			}
		}
		100 = {
			modifier = {
				factor = var:GRY_core_pop
			}
			ROOT = {
				give_GRY_name = yes
				if = {
					limit = { is_operative = yes }
					operative_add_nationalities_evi_valley = yes
				}
			}
		}
		100 = {
			modifier = {
				factor = var:GRW_core_pop
			}
			ROOT = {
				give_GRW_name = yes
				if = {
					limit = { is_operative = yes }
					operative_add_nationalities_evi_valley = yes
				}
			}
		}
		100 = {
			modifier = {
				factor = var:GRI_core_pop
			}
			ROOT = {
				give_herzlander_name = yes
				if = {
					limit = { is_operative = yes }
					operative_add_nationalities_herzlander = yes
				}
			}
		}
	}
}

test_effect = {
	create_operative_leader = {
		bypass_recruitment = yes
		nationalities = { ROOT }
	}
}